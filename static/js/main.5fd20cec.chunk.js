(this.webpackJsonpcovidtestingwr=this.webpackJsonpcovidtestingwr||[]).push([[0],{21:function(e,t,a){},31:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(23),i=a.n(r),c=(a(31),a(11)),o=a(12),l=a(14),h=a(13),u=a(7),d=a(2),j=a(8),m=(a(21),a(0)),b=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).sortUsersByTime=s.sortUsersByTime.bind(Object(j.a)(s)),s.sortUsersByName=s.sortUsersByTime.bind(Object(j.a)(s)),s.filterRank=s.filterRank.bind(Object(j.a)(s)),s.increasePage=s.increasePage.bind(Object(j.a)(s)),s.decreasePage=s.decreasePage.bind(Object(j.a)(s)),s.state={users:s.props.users,ranking:[],asc:!1,alph:!1,page:1,pageMax:1},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.users,t=this.props.paginate;e.sort(this.compareTimes),e.map((function(e,t){return e.rank=t+1})),e.map((function(e,a){return e.page=Math.ceil((a+1)/t)})),this.setState({pageMax:e[e.length-1].page}),this.setState({ranking:e})}},{key:"compareTimes",value:function(e,t){return e.time<t.time?-1:t.time<e.time?1:0}},{key:"compareName",value:function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}},{key:"sortUsersByName",value:function(){var e=this.state.ranking,t=this.props.paginate;!0===this.state.alph?(e.sort(this.compareName).reverse(),e.map((function(e,a){return e.page=Math.ceil((a+1)/t)})),this.setState({ranking:e}),this.setState({alph:!1}),this.setState({asc:!0})):(e.sort(this.compareName),e.map((function(e,a){return e.page=Math.ceil((a+1)/t)})),this.setState({ranking:e}),this.setState({alph:!0}),this.setState({asc:!0}))}},{key:"sortUsersByTime",value:function(){var e=this.state.ranking,t=this.props.paginate;!0===this.state.asc?(e.sort(this.compareTimes),e.map((function(e,a){return e.page=Math.ceil((a+1)/t)})),this.setState({ranking:e}),this.setState({asc:!1}),this.setState({alph:!1})):(e.sort(this.compareTimes).reverse(),e.map((function(e,a){return e.page=Math.ceil((a+1)/t)})),this.setState({ranking:e}),this.setState({asc:!0}),this.setState({alph:!1}))}},{key:"filterRank",value:function(e){for(var t=this.state.users,a=this.props.paginate,s=[],n=e.target.value.length,r=0;r<t.length;r++){t[r].name.slice(0,n).toLowerCase()===e.target.value.toLowerCase()&&s.push(t[r])}s.sort(this.compareTimes),s.map((function(e,t){return e.page=Math.ceil((t+1)/a)})),this.setState({ranking:s}),this.setState({page:1}),s.length>0&&this.setState({pageMax:s[s.length-1].page})}},{key:"increasePage",value:function(e){var t=this.state.page;t<this.state.pageMax&&(t+=1),this.setState({page:t})}},{key:"decreasePage",value:function(e){var t=this.state.page;t>1&&(t-=1),this.setState({page:t})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Covid Testing World Record Any% Leaderboard"}),Object(m.jsxs)("div",{className:"sub-header",children:[Object(m.jsx)(u.b,{to:"/rules",style:{textDecoration:"none"},children:Object(m.jsx)("button",{className:"rules-button",children:"Read the Rules"})}),Object(m.jsx)("form",{className:"search-bar",onChange:this.filterRank,children:Object(m.jsx)("input",{type:"search",name:"search",placeholder:"Name"})}),Object(m.jsx)(u.b,{to:"/form",style:{textDecoration:"none"},children:Object(m.jsx)("button",{className:"form-button",children:"Submit a Run"})})]}),Object(m.jsx)("table",{id:"lBoard",className:"fancy-table",children:Object(m.jsxs)("tbody",{className:"ranking",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"rank-header sortTime",onClick:this.sortUsersByTime,children:" Rank "}),Object(m.jsx)("td",{className:"rank-header sortAlpha",onClick:this.sortUsersByName,children:" Name "}),Object(m.jsx)("td",{className:"rank-header",onClick:this.sortUsersByTime,children:" Time "})]}),this.state.ranking.map((function(t,a){return Object(m.jsxs)("tr",{className:"ranking",children:[t.page===e.state.page?Object(m.jsx)("td",{className:"data",children:t.rank}):null,t.page===e.state.page?Object(m.jsx)("td",{className:"data",children:t.name}):null,t.page===e.state.page?Object(m.jsx)("td",{className:"data",children:t.time}):null]},a)}))]})}),Object(m.jsxs)("div",{className:"page",children:[Object(m.jsx)("button",{className:"page-select",onClick:this.decreasePage,children:Object(m.jsx)("span",{children:"\u2039"})}),1===this.state.page?null:Object(m.jsxs)("p",{onClick:this.decreasePage,children:[" ",this.state.page-1]}),Object(m.jsxs)("button",{className:"page-number",children:[" ",this.state.page]}),this.state.page<this.state.pageMax?Object(m.jsxs)("p",{onClick:this.increasePage,children:[" ",this.state.page+1]}):null,Object(m.jsx)("button",{className:"page-select",onClick:this.increasePage,children:Object(m.jsx)("span",{children:"\u203a"})})]})]})}}]),a}(s.Component),p=function(){return Object(m.jsx)("div",{className:"footer",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{className:"creator",href:"https://www.senisaras.com",children:"Made by Enis Aras "})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://github.com/enisaras/CovidTestingWR",children:"and 2 contributors."})})]})})},g=a(19),O=a.n(g),x=a(25),f=a(26),v=a(20);a(39);function y(){var e=Object(s.useState)({}),t=Object(v.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),i=Object(v.a)(r,2),c=i[0],o=i[1],l=!1,h=function(e){var t=Object(f.a)({},a);t[e.target.name]=e.target.value,n(t)},d=function(){var e=Object(x.a)(O.a.mark((function e(t){var s,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l){e.next=19;break}return e.prev=2,e.next=5,fetch("https://v1.nocodeapi.com/enisaras/google_sheets/hTHdIarhyJkWmZVA?tabId=Sheet1",{method:"post",body:JSON.stringify([[a.name,a.time]]),headers:{"Content-Type":"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,console.log(n),o("Your run was succesfully submitted, it will be added to the leaderboard in less than 24 hours."),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error:",e.t0),o("Difficulty sending your run, please try again.");case 17:e.next=20;break;case 19:o("You already submitted a run today, you can submit another later.");case 20:l=!0;case 21:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"Form",children:[Object(m.jsx)("h1",{children:"Run Submission Form"}),Object(m.jsxs)("form",{className:"input-form",id:"run",name:"run",onSubmit:d,children:[Object(m.jsx)("input",{name:"name",type:"text",placeholder:"Name",onChange:h,required:!0}),Object(m.jsx)("input",{name:"time",type:"text",placeholder:"Your time",onChange:h,required:!0}),Object(m.jsx)("input",{name:"submit",type:"submit",value:"Send"}),Object(m.jsx)("div",{className:"message",children:c})]}),Object(m.jsx)(u.b,{to:"/CovidTestingWR",style:{textDecoration:"none"},className:"back",children:"Return to Leaderboard"})]})}var k=function(){return Object(m.jsxs)("div",{className:"rules",children:[Object(m.jsx)("h1",{children:"Rules"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"The first and the most important rule is to be respectful to everyone else getting tested and the testing staff during your run."}),Object(m.jsx)("li",{children:"Time starts when you step inside the Armory, and ends when you step outside."}),Object(m.jsx)("li",{children:"Be honest about your run."}),Object(m.jsx)("li",{children:"Have fun!"})]}),Object(m.jsx)(u.b,{to:"/CovidTestingWR",style:{textDecoration:"none"},className:"back",children:"Return to Leaderboard"})]})},N=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={users:[{name:"Bop",time:"1:54.87"},{name:"Banana Man",time:"2:23.63"},{name:"Matt M",time:"2:52.60"},{name:"Phi11ipus",time:"2:45.20"},{name:"Alex",time:"2:05.85"},{name:"notBop",time:"8:00:00.00"},{name:"Dom",time:"2:21.06"}],paginate:10},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)(u.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(d.a,{exact:!0,path:"/CovidTestingWR",children:Object(m.jsx)(b,{users:this.state.users,paginate:this.state.paginate})}),Object(m.jsx)(d.a,{path:"/form",children:Object(m.jsx)(y,{})}),Object(m.jsx)(d.a,{path:"/rules",children:Object(m.jsx)(k,{})}),Object(m.jsx)(p,{})]})})}}]),a}(s.Component),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),S()}},[[40,1,2]]]);
//# sourceMappingURL=main.5fd20cec.chunk.js.map